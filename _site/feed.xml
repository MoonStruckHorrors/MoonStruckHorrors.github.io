<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Angry Rabbit's Blog</title>
    <description>Well..</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Mon, 22 Oct 2018 14:02:55 +0530</pubDate>
    <lastBuildDate>Mon, 22 Oct 2018 14:02:55 +0530</lastBuildDate>
    <generator>Jekyll v3.3.1</generator>
    
      <item>
        <title>Audio out of sync - Windows 10</title>
        <description>&lt;p&gt;I’ve been living with this issue for more than an year now (probably more). In streaming videos (YouTube, Netflix, etc) the audio would progressively become out of sync with the video. With some quick observations I determined that it takes roughly 5-7 minutes for the video to lag 1s behind the audio. So that’s&lt;/p&gt;

&lt;p&gt;I usually boot up Windows just for games so this isn’t really that big of a deal. However, it is &lt;em&gt;really&lt;/em&gt; annoying!&lt;/p&gt;

&lt;p&gt;My standard response cycle for this issue is this:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Encounter the issue.&lt;/li&gt;
  &lt;li&gt;Google&lt;/li&gt;
  &lt;li&gt;Try the first non-visited solution.&lt;/li&gt;
  &lt;li&gt;Try to watch a lengthy video.&lt;/li&gt;
  &lt;li&gt;Issue happens.&lt;/li&gt;
  &lt;li&gt;Restart and boot into Linux.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Now, most of the times the first solutions were related to Realtek audio settings. Some were about the infamous Windows Power saving configuration. Heck, there was one about “Try using a wired headphone”. &lt;a href=&quot;https://helgeklein.com/blog/2017/03/streamed-video-audio-sync-problems-windows-10-realtek-sound/&quot;&gt;Stuff like this&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Trying a solution which doesn’t work only adds to the frustration when you realize that after 10 minutes into a video. Well, maybe these are variations of the issue - but I surely wasn’t facing these.&lt;/p&gt;

&lt;p&gt;Now, what could possibly cause the video to lag behind the audio? It’s obviously not the GPU - which is capable of pushing 144 frames at 1080p.&lt;/p&gt;
</description>
        <pubDate>Thu, 27 Sep 2018 22:30:00 +0530</pubDate>
        <link>http://localhost:4000/technology/misc/2018/09/27/windows-10-audio-out-of-sync.html</link>
        <guid isPermaLink="true">http://localhost:4000/technology/misc/2018/09/27/windows-10-audio-out-of-sync.html</guid>
        
        <category>Windows10</category>
        
        <category>Windows</category>
        
        <category>Microsoft</category>
        
        <category>Audio</category>
        
        <category>Video</category>
        
        <category>Web</category>
        
        <category>Sync</category>
        
        <category>Lag</category>
        
        <category>MSIAfterburner</category>
        
        <category>MSI</category>
        
        <category>AfterBurner</category>
        
        
        <category>technology</category>
        
        <category>misc</category>
        
      </item>
    
      <item>
        <title>[fanFiction] One less Volatile - The story of Sabit</title>
        <description>&lt;p&gt;“It Burns!” screamed &lt;a href=&quot;http://dyinglight.wikia.com/wiki/Sabit&quot;&gt;Sabit&lt;/a&gt;. He had been in the sun since 11 in the morning - almost two hours. The cave was partially lit, most of the light coming from the narrow opening on the top. Rest from the underwater algae which grew in the far corners of the cave. At night, it would look brilliant, almost magical if not for piles of human flesh and bones his new cavemates kept bringing.&lt;/p&gt;

&lt;p&gt;Although, it was starting to grow on him. The stench which made him nauseous when he first saw the sticky piles of stale human meat - was starting to make him hungry now. Same with the sunlight - not too long ago he would’ve given anything for a bit of sunlight. Although he had no issues at all venturing out alone in the night as well. Now the sunlight just burned his skin, emitting orange fumes. He still remembered this was caused due to the UV radiation or &lt;em&gt;something&lt;/em&gt; - he wasn’t a scientist.&lt;/p&gt;

&lt;p&gt;He was, however, a botanist. Well, atleast since the outbreak. See, in times when even surviving is a big achievement - anyone who can distinguish a Toxic Lichen from generic herbs is considered a renowned botanist / herbalist. On top of that, he was the only person around who had the knack for tracking the vital yellowroot herb. Before the outbreak, you could’ve done a reverse image search to find the actual name, appearance and properties of this particular plant. But now, if it’s yellow and matches the shape - it’s good enough for everyone.&lt;/p&gt;

&lt;p&gt;As with most of his memories, he was beginning to forget the appearance of the herbs as well. He did remember Jasir and the folks on his farm; and how overjoyed they became when he went to deliver the herbs every week. Or how they asked him to stay with them, on the farm. But he wanted to be close to The Sanctuary down south, in proximity of The Children of the Sun. Even if that meant staying in a makeshift hut.&lt;/p&gt;

&lt;p&gt;From the first look, that hut would look like a deathwish to any outsider. Back on the farm they have barbed wire all over the perimeter and bright UV lamps that are visible from almost half a mile. The poor hut didn’t even have a basic trap to stop the biters. But Sabit wasn’t really that naive. He chose the location for a reason - height and terrain. It was really a decent sized hillock in middle of a river with steep cliffs - unsurmountable without proper climbing equipment - even by the fast climbing &lt;a href=&quot;http://dyinglight.wikia.com/wiki/Viral&quot;&gt;Virals&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;When he first saw the spot, it seemed too perfect. A steep climb with fertile land on top, in middle of a river during zombie apocalypse? Even residents of the Towers would envy this location. And perfect it was. Well except for the fact that the hill was .. hollow.&lt;/p&gt;

&lt;p&gt;It was a late realization for Sabit. It took almost 6 months for him to finally realise that ground below the hut had collapsed - opening up the entrance to the newly revealed cave network that spanned across majority of the hillock; And another few days for that fatal misstep which led him to his current.. state.&lt;/p&gt;

&lt;p&gt;His skin had faded away, giving way to the exposed flesh and bones. He knew he was going to be stuck in the red gooey, fleshy mess until his body inevitably took its new form. He knew what was coming. And he wanted no part in the madness which had taken over the city. He saw what these things, which he was going to become - &lt;a href=&quot;http://dyinglight.wikia.com/wiki/Volatile&quot;&gt;Volaties&lt;/a&gt; - were capable of. The cure, the immunity - all a fantasy.&lt;/p&gt;

&lt;p&gt;“End this!” he screamed again. He would’ve thanked Kyle - for taking the yellow herbs for the farm - if speaking more than two words was feasible. And a visibly distraught and sad Kyle did it. One less Volatile.&lt;/p&gt;
</description>
        <pubDate>Wed, 26 Sep 2018 22:30:00 +0530</pubDate>
        <link>http://localhost:4000/gaming/misc/2018/09/26/the-story-of-sabit.html</link>
        <guid isPermaLink="true">http://localhost:4000/gaming/misc/2018/09/26/the-story-of-sabit.html</guid>
        
        <category>dyinglight</category>
        
        <category>thefollowing</category>
        
        <category>sabit</category>
        
        
        <category>gaming</category>
        
        <category>misc</category>
        
      </item>
    
      <item>
        <title>Fix for jumbled / incorrect / glitchy E-mail HTML in Python</title>
        <description>&lt;p&gt;So I have this script I wrote at work which sends out E-mails for some internal defect stats.&lt;/p&gt;

&lt;h1 id=&quot;the-issue&quot;&gt;The Issue&lt;/h1&gt;

&lt;p&gt;For a long time, every few days the HTML would sporadically be jumbled up - strings jumping from once place to another.&lt;/p&gt;

&lt;p&gt;Most of the times it would be a missing &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;td&amp;gt;&lt;/code&gt; in a &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;tr&amp;gt;&lt;/code&gt; - which would surprisingly reappear somewhere before the table.&lt;/p&gt;

&lt;p&gt;The E-mail part of the script was something like this.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Create the MIMEMultipart()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MIMEMultipart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'From'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from_&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'To'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;, &quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Subject'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;subject&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Cc'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;, &quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cc_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Add some text to it&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MIMEText&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;txt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'html'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'us-ascii'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# == Attach files ==&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# == Attach images ==&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Create a SMTP object and send the MIMEMultipart over it&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SMTP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;someserver.domain.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;send_message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;It looks something like this in action.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/GfcUDFw.png&quot; alt=&quot;issue&quot; /&gt;
(That A belongs to the fourth column. Yes, it’s pixelated. That’s why I added an arrow)&lt;/p&gt;

&lt;h1 id=&quot;investigation&quot;&gt;Investigation&lt;/h1&gt;

&lt;p&gt;At first, I thought there was something wrong with my HTML generating logic. Since the issue happened randomly, I persisted the HTML which was being sent out. When it finally happened again, I looked at the HTML and it was proper.
But atleast I had the HTML which would consistently reproduce this behavior.&lt;/p&gt;

&lt;p&gt;Googled a lot with no luck. Tried a lot of permutations: &lt;code class=&quot;highlighter-rouge&quot;&gt;python smtp html issue/bug&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;python mime html formatting issue/bug&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;python mimemultipart mimetext issue/bug&lt;/code&gt;. And many, many more. 😅&lt;/p&gt;

&lt;h1 id=&quot;the-fix&quot;&gt;The Fix&lt;/h1&gt;

&lt;p&gt;Newlines! I realized my HTML lacked &lt;code class=&quot;highlighter-rouge&quot;&gt;\n&lt;/code&gt;s. It was rendering properly in a browser, but in the E-mail client (tried with Outlook on Mac/Windows) it would come jumbled up.&lt;/p&gt;

&lt;p&gt;Just adding line breaks to the HTML seems to fix this issue. I’m not really sure why would this happen, but if anyone knows - let me know. 🙂&lt;/p&gt;
</description>
        <pubDate>Mon, 24 Sep 2018 18:30:00 +0530</pubDate>
        <link>http://localhost:4000/python/2018/09/24/python-email-html-jumbled.html</link>
        <guid isPermaLink="true">http://localhost:4000/python/2018/09/24/python-email-html-jumbled.html</guid>
        
        <category>python</category>
        
        <category>mime</category>
        
        <category>programming</category>
        
        <category>coding</category>
        
        <category>email</category>
        
        <category>mail</category>
        
        <category>html</category>
        
        <category>table</category>
        
        
        <category>python</category>
        
      </item>
    
      <item>
        <title>Skipping unwanted responses in pexpect</title>
        <description>&lt;p&gt;Was recently automating some Server CLI stuff and came across this weird issue. Where I was getting blanks whenever I tried to get some response back from the Terminal session.&lt;/p&gt;

&lt;p&gt;Spent a day figuring out why I was getting blank responses.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# process: pexpect spawn object&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# prompt: terminal prompt; eg: '&amp;gt;', '~'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sendline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'set SOME_VAR=1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# We don't need the empty response of this command&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sendline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'echo cake'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Returns a response, but we don't need it; sorry cake&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sendline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'ls'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Say we need the response of this one&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prompt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pexpect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TIMEOUT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pexpect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Searches the first occurance of prompt&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;resp_b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;before&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# This would return the response upto the first prompt, not the ls response&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This is because of the way pexpect works with the terminal response buffer. To get around this, you should match every &lt;code class=&quot;highlighter-rouge&quot;&gt;sendline&lt;/code&gt; with a call to &lt;code class=&quot;highlighter-rouge&quot;&gt;expect&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Or, we can do it in a single line. Since expect works with regex, we can simple jump to the end of the terminal response so far.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Use something other than fstring if you're not on Python 3.6&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'{prompt}$'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Searches the last occurance of prompt (Prompt followed by end of string)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# OR&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'{prompt} $'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# The prompts usually have a trailing space&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Wrapped up in a neat function.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;get_and_clear_full_response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prompt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# Search for prompt[SPACE][END_OF_STRING]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'{0} $'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prompt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pexpect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TIMEOUT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pexpect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# Return the full response buffer since the last expect&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;before&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Fixed code:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sendline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'set SOME_VAR=1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# We don't need the empty response of this command&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sendline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'echo cake'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Returns a response, but we don't need it; sorry cake&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_and_clear_full_response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prompt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Let's clear everything&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sendline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'ls'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Say we need the response of this one&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prompt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;resp_b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;before&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# This would return the output of ls&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Simple, eh? Could become annoying if you start suspecting the server / CLI for not displaying a response.&lt;/p&gt;
</description>
        <pubDate>Wed, 19 Sep 2018 18:30:00 +0530</pubDate>
        <link>http://localhost:4000/python/2018/09/19/skipping-unwanted-responses-in-pexpect.html</link>
        <guid isPermaLink="true">http://localhost:4000/python/2018/09/19/skipping-unwanted-responses-in-pexpect.html</guid>
        
        <category>python</category>
        
        <category>pexpect</category>
        
        <category>expect</category>
        
        <category>automation</category>
        
        <category>CLI</category>
        
        
        <category>python</category>
        
      </item>
    
      <item>
        <title>Simple way to epoch</title>
        <description>&lt;p&gt;Came across this question recently:
&lt;a href=&quot;https://stackoverflow.com/questions/51760021/convert-a-column-of-yyyy-mm-dd-datetimes-to-linux-time-epoch-in-python/51760200&quot;&gt;stackoverflow: Convert a column of yyyy-mm-dd datetimes to linux time epoch in Python&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Which referenced this question: &lt;a href=&quot;https://stackoverflow.com/questions/35630098/convert-a-column-of-datetimes-to-epoch-in-python&quot;&gt;stackoverflow: Convert a column of datetimes to epoch in Python&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The accepted answer(s) suggests to find the diff between the date with the epoch reference date and calculate the seconds.&lt;/p&gt;

&lt;p&gt;Well, we can… do this. There’s a reason we’re using the &lt;code class=&quot;highlighter-rouge&quot;&gt;datetime&lt;/code&gt; objects and not writing our own classes for datetime.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;datetime&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;dt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{dt.timestamp()}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Just use &lt;code class=&quot;highlighter-rouge&quot;&gt;.timestamp()&lt;/code&gt; on your &lt;code class=&quot;highlighter-rouge&quot;&gt;datetime&lt;/code&gt; object, people. That’s it.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;import this&lt;/code&gt; -&amp;gt; Rule:3 -&amp;gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;Simple is better than complex.&lt;/code&gt;&lt;/p&gt;
</description>
        <pubDate>Sat, 25 Aug 2018 18:30:00 +0530</pubDate>
        <link>http://localhost:4000/python/2018/08/25/python-epoch.html</link>
        <guid isPermaLink="true">http://localhost:4000/python/2018/08/25/python-epoch.html</guid>
        
        <category>python</category>
        
        <category>epoch</category>
        
        <category>stackoverflow</category>
        
        <category>datetime</category>
        
        
        <category>python</category>
        
      </item>
    
  </channel>
</rss>
